<!-- Modal for contact form -->

<div id="contactModal" class="modal fade" role="dialog" ng-controller="contactFormCtrl">
  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" ng-click="closeModal()">&times;</button>
        <h4 class="modal-title">CACI Messenger</h4>
      </div>

      <form name="contactForm" class="form-horizontal" novalidate>

        <div class="modal-body">
          <p class="col-sm-offset-2 bold-italic">Compose your message to CAC here:</p>


          <div class="form-group row">
            <label class="col-sm-2">To:</label>
            <div class="col-sm-10">
              <div>{{ contactFormRecipient() }}</div>
            </div>
          </div>

          <div class="form-group row" 
          ng-class="{ 'has-error' : contactForm.contactFormName.$invalid && (contactForm.$submitted || contactForm.contactFormName.$touched) }">
            <label for="contactFormName" class="col-sm-2">Name</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" name="contactFormName" ng-model="contactFormData.name" ng-maxlength="50" required>
              <div class="help-block" ng-show="contactForm.$submitted || contactForm.contactFormName.$touched">
                <p ng-show="contactForm.contactFormName.$error.required">Enter your name</p>
                <p ng-show="contactForm.contactFormName.$error.maxlength">Maximum of 50 characters allowed</p>
              </div>
            </div>
          </div>

          <div class="form-group row" 
          ng-class="{ 'has-error' : contactForm.contactFormEmail.$invalid && (contactForm.$submitted || contactForm.contactFormEmail.$touched) }">
            <label for="contactFormEmail" class="col-sm-2">Email</label>
            <div class="col-sm-10">
              <input type="email" class="form-control" name="contactFormEmail" ng-model="contactFormData.email" required>
              <div class="help-block" ng-show="contactForm.$submitted || contactForm.contactFormEmail.$touched">
                <p ng-show="contactForm.contactFormEmail.$error.required">Enter your email address</p>
                <p ng-show="contactForm.contactFormEmail.$error.email">Enter a valid email address</p>
              </div>
            </div>
          </div>

          <div class="form-group row" 
          ng-class="{ 'has-error' : contactForm.contactFormSubject.$invalid && (contactForm.$submitted || contactForm.contactFormSubject.$touched) }">
            <label for="contactFormSubject" class="col-sm-2">Subject</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" name="contactFormSubject" ng-model="contactFormData.subject" ng-maxlength="100" required>
              <div class="help-block" ng-show="contactForm.$submitted || contactForm.contactFormSubject.$touched">
                <p ng-show="contactForm.contactFormSubject.$error.required">Enter a subject</p>
                <p ng-show="contactForm.contactFormSubject.$error.maxlength">Maximum of 100 characters allowed</p>
              </div>
            </div>
          </div>

          <div class="form-group row" 
          ng-class="{ 'has-error' : contactForm.contactFormMessage.$invalid && (contactForm.$submitted || contactForm.contactFormMessage.$touched) }">
            <label for="contactFormMessage" class="col-sm-2">Message</label>
            <div class="col-sm-10">
              <textarea class="form-control" name="contactFormMessage" style="min-height:12em" ng-model="contactFormData.message" ng-maxlength="1000" required></textarea>
              <div class="help-block" ng-show="contactForm.$submitted || contactForm.contactFormMessage.$touched">
                <p ng-show="contactForm.contactFormMessage.$error.required">Include a message</p>
                <p ng-show="contactForm.contactFormMessage.$error.maxlength">Maximum of 1000 characters allowed</p>
              </div>
            </div>
          </div>

          <!-- FEEDBACK MESSAGE -->
          <div id="contactFeedbackMsg">{{ resultMessage }}</div>

          <!-- TEMP/DEBUG --> <!-- <pre>Response Data = {{ responseData | json }}</pre> --> <!-- /TEMP/DEBUG -->
 
        </div> <!-- /modal-body -->

        <div class="modal-footer">
          <div class="row">
            <div class="col-sm-offset-2 col-sm-10">
              <button type="submit" class="btn btn-default" ng-click="sendFormData(contactForm.$valid)" ng-disabled="submitSuccess">
                <span class="glyphicon glyphicon-send"></span> Send
              </button>
              <button type="button" class="btn btn-default" ng-click="closeModal()">
                <span class="glyphicon glyphicon-remove-circle"></span> {{ cancelButtonText }}
              </button>
            </div>
          </div>
        </div> <!-- /modal-footer -->

      </form>
    </div> <!-- /modal-content -->
  </div> <!-- /modal-dialog -->
</div> <!-- /contactModal -->
